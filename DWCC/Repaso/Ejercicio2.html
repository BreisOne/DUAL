<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Lista de la compra</title>
    <style>
        input {
            margin: 10px;
        }
        
        li {
            font-size: 23px;
            list-style: none;
        }
    </style>

</head>

<h1>Lista de la compra</h1>
<form name="elFormulario" action="">
    <input type="text" name="entrada" id="entradaNombre" placeholder="Introduce el nombre de un artículo" />
    <input type="number" name="entrada" id="entradaPrecio" placeholder="Introduce el precio del artículo" />
    <input type="button" name="botonAnadir" id="botonAnadir" value="Añadir" />
    <input type="button" name="botonBorrar" id="botonBorrar" value="Borrar" />
</form>
<div class="listaComprados">
    <h1>Lista Comprados</h1>
    <ul id="listaC">
    </ul>
</div>

<div class="listaEliminados">
    <h1>Lista Eliminados</h1>
    <ul id="listaE">
    </ul>
</div>

<script>
    class Item{
        constructor(nombre, precio){
            this.nombre = nombre;
            this.precio = precio;
        }
    }
    const anhadirArticulo = ()=>{
        let nombre = document.getElementById("entradaNombre");
        let precio = document.getElementById("entradaPrecio");
        
        let item = new Item(nombre.value, precio.value);
        console.log(item);
        localStorage.setItem(nombre.value, JSON.stringify(item));
        nombre.value = "";
        precio.value = "";
    }

    const borrarArticulo = () =>{
        let nombre = document.getElementById("entradaNombre");
        let articuloEliminar = JSON.parse(localStorage.getItem(nombre));
        listarArticulosBorrados(articuloEliminar);
        localStorage.removeItem(nombre.value);
    }

    const listarArticulosBorrados = (articulo)=>{
        let listArticElim = document.getElementById("listaE");
        let liElement = document.createElement("li");

        let nombreElement = document.createTextNode(articulo.nombre);
        let precioElement = document.createTextNode(articulo.precio);

        liElement.appendChild(nombreElement);
        liElement.appendChild(precioElement);
        listArticElim.appendChild(liElement);

    }

    document.getElementById("botonAnadir").addEventListener("click", anhadirArticulo);
    document.getElementById("botonBorrar").addEventListener("click",borrarArticulo);

</script>
</html>